{"ast":null,"code":"import { ApolloClient, createHttpLink, InMemoryCache } from \"@apollo/client\";\nimport { setContext } from \"@apollo/client/link/context\";\nimport { getCookie } from \"../utils/commonActions.js\";\nconst httpLink = createHttpLink({\n  uri: \"https://api.github.com/graphql\"\n});\nconst defaultOptions = {\n  watchQuery: {\n    fetchPolicy: \"no-cache\",\n    errorPolicy: \"all\"\n  }\n};\nlet accessToken = \"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\";\nconst authLink = setContext((_, _ref) => {\n  let {\n    headers\n  } = _ref;\n  const token = accessToken || getCookie(\"_access_token\");\n  accessToken = token;\n  return {\n    headers: { ...headers,\n      Authorization: `Bearer ${token}`\n    }\n  };\n});\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n  defaultOptions: defaultOptions\n});\nexport default client;","map":{"version":3,"names":["ApolloClient","createHttpLink","InMemoryCache","setContext","getCookie","httpLink","uri","defaultOptions","watchQuery","fetchPolicy","errorPolicy","accessToken","authLink","_","headers","token","Authorization","client","link","concat","cache"],"sources":["/Users/poojapati/topic-demo/src/graphql/apolloClient.js"],"sourcesContent":["import { ApolloClient, createHttpLink, InMemoryCache } from \"@apollo/client\";\nimport { setContext } from \"@apollo/client/link/context\";\nimport { getCookie } from \"../utils/commonActions.js\";\n\nconst httpLink = createHttpLink({\n  uri: \"https://api.github.com/graphql\",\n});\n\nconst defaultOptions = {\n  watchQuery: {\n    fetchPolicy: \"no-cache\",\n    errorPolicy: \"all\",\n  },\n};\n\nlet accessToken = \"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\";\nconst authLink = setContext((_, { headers }) => {\n  const token = accessToken || getCookie(\"_access_token\");\n  accessToken = token;\n\n  return {\n    headers: {\n      ...headers,\n      Authorization: `Bearer ${token}`,\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n  defaultOptions: defaultOptions,\n});\n\nexport default client;\n"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,cAAvB,EAAuCC,aAAvC,QAA4D,gBAA5D;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,SAASC,SAAT,QAA0B,2BAA1B;AAEA,MAAMC,QAAQ,GAAGJ,cAAc,CAAC;EAC9BK,GAAG,EAAE;AADyB,CAAD,CAA/B;AAIA,MAAMC,cAAc,GAAG;EACrBC,UAAU,EAAE;IACVC,WAAW,EAAE,UADH;IAEVC,WAAW,EAAE;EAFH;AADS,CAAvB;AAOA,IAAIC,WAAW,GAAG,0CAAlB;AACA,MAAMC,QAAQ,GAAGT,UAAU,CAAC,CAACU,CAAD,WAAoB;EAAA,IAAhB;IAAEC;EAAF,CAAgB;EAC9C,MAAMC,KAAK,GAAGJ,WAAW,IAAIP,SAAS,CAAC,eAAD,CAAtC;EACAO,WAAW,GAAGI,KAAd;EAEA,OAAO;IACLD,OAAO,EAAE,EACP,GAAGA,OADI;MAEPE,aAAa,EAAG,UAASD,KAAM;IAFxB;EADJ,CAAP;AAMD,CAV0B,CAA3B;AAYA,MAAME,MAAM,GAAG,IAAIjB,YAAJ,CAAiB;EAC9BkB,IAAI,EAAEN,QAAQ,CAACO,MAAT,CAAgBd,QAAhB,CADwB;EAE9Be,KAAK,EAAE,IAAIlB,aAAJ,EAFuB;EAG9BK,cAAc,EAAEA;AAHc,CAAjB,CAAf;AAMA,eAAeU,MAAf"},"metadata":{},"sourceType":"module"}